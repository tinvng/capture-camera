(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(75)},40:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(13),r=n.n(i),c=(n(40),n(41),n(15)),s=n(24),l=n(25),u=n(32),d=n(26),h=n(33),m=n(77),p=n(78),f=n(80),v=n(79),w={width:600,height:450},g=n(27),y=n.n(g),j=function(e,t){var n=new FormData;return n.append("uploadFile",e,t),y.a.post("http://localhost:8080/camera/upload/tjinlag",n)},b=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isCaptured:!1,showAlert:!1},n.onCapture=function(){n.setState({isCaptured:!0}),n.canvas.getContext("2d").drawImage(n.video,0,0,w.width,w.height)},n.onSubmit=function(){n.state.isCaptured&&n.canvas.toBlob(function(e){e&&j(e,"captured picture").then(function(e){200===e.status&&(n.showAlert(),setTimeout(n.hideAlert,3e3))}).catch(function(e){console.error(e)})},"image/jpg")},n.showAlert=function(){return n.setState({showAlert:!0})},n.hideAlert=function(){return n.setState({showAlert:!1})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.getUserMedia?navigator.getUserMedia({video:Object(c.a)({},w),audio:!1},function(t){e.video.srcObject=t,e.video.play()},function(e){console.error(e)}):console.log("User don't have media")}},{key:"render",value:function(){var e=this;return o.a.createElement(m.a,null,o.a.createElement(p.a,{className:"justify-content-center mt-1"},o.a.createElement(f.a,{variant:"success",show:this.state.showAlert,style:{position:"fixed",cursor:"pointer"},onClick:this.hideAlert},"Upload Successfully")),o.a.createElement(p.a,{className:"justify-content-center mt-2"},o.a.createElement("video",{ref:function(t){return e.video=t},style:Object(c.a)({margin:0,padding:0},w)})),o.a.createElement(p.a,{className:"mt-2 justify-content-center"},o.a.createElement(v.a,{variant:"outline-success",size:"sm",onClick:this.onCapture},"Capture")),o.a.createElement(p.a,{className:"mt-2 justify-content-center"},o.a.createElement("canvas",{ref:function(t){return e.canvas=t},width:w.width,height:w.height,style:{display:this.state.isCaptured?"flex":"none",objectFit:"contain"}})),o.a.createElement(p.a,{className:"my-2 justify-content-center",style:{display:this.state.isCaptured?"flex":"none"}},o.a.createElement(v.a,{variant:"outline-info",size:"sm",onClick:this.onSubmit},"Send To Server")))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.933a43f1.chunk.js.map